<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Reports | Found IT</title>
    <link rel="stylesheet" href="/FoundIT/styles/normalize.css" />
    <link rel="stylesheet" href="/FoundIT/styles/pages/dashboard.css" />
    <link rel="stylesheet" href="/FoundIT/styles/components/sidebar.css" />
    <link rel="stylesheet" href="/FoundIT/styles/pages/admin-dashboard.css" />
    <link rel="stylesheet" href="/FoundIT/styles/pages/admin-reports.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet" />
    <style>
      .sidebar .nav-section-title {
        font-weight: bold;
        color: var(--clr-primary) !important;
        letter-spacing: 0.02em;
        margin-top: 1.2em;
        margin-bottom: 0.7em;
        font-size: 1.08em;
      }
      .sidebar .nav-link {
        color: #222 !important;
        font-weight: 500;
        font-size: 1.07em;
        display: flex;
        align-items: center;
        gap: 0.7em;
        padding: 0.55em 0.7em;
        border-radius: 8px;
        transition: background 0.13s, color 0.13s;
      }
      .sidebar .nav-link:hover, .sidebar .nav-link:focus {
        background: #eaf4fd;
        color: var(--clr-primary) !important;
        text-decoration: none;
      }
      .sidebar .nav-item {
        margin-bottom: 0.2em;
      }
      .sidebar .nav-icon {
        min-width: 20px;
        min-height: 20px;
        color: var(--clr-primary);
        opacity: 0.95;
      }
    </style>
  </head>
  <body>
    <div class="dashboard-container">
      <!-- Sidebar Navigation -->
      <aside class="sidebar">
        <div class="sidebar-header">
          <a href="/FoundIT/pages_admin/dashboard.html">
            <img src="/FoundIT/assets/logo.png" alt="FoundIT Logo" class="sidebar-logo" />
          </a>
        </div>
        <nav class="sidebar-nav">
          <ul class="nav-list">
            <li class="nav-section-title">INFORMATION</li>
            <li class="nav-item">
              <a href="/FoundIT/pages_admin/dashboard.html" class="nav-link">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                  <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
                Dashboard
              </a>
            </li>
            <li class="nav-item">
              <a href="/FoundIT/pages_admin/users.html" class="nav-link">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="12" cy="12" r="3"></circle>
                  <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                </svg>
                Users
              </a>
            </li>
            <li class="nav-item">
              <a href="/FoundIT/pages_admin/items.html" class="nav-link">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                  <path d="M16 3v4a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V3"></path>
                </svg>
                Items
              </a>
            </li>
            <li class="nav-item">
              <a href="/FoundIT/pages_admin/reports.html" class="nav-link">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M3 3h18v18H3z"></path>
                  <path d="M8 6h8M8 10h8M8 14h8"></path>
                </svg>
                Reports
              </a>
            </li>
            <li class="nav-item">
              <a href="/FoundIT/pages_admin/settings.html" class="nav-link">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="12" cy="12" r="3"></circle>
                  <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06-.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                </svg>
                Settings
              </a>
            </li>
            <li class="nav-section-title">ADMINISTRATION</li>
            <li class="nav-item admin-only" style="display:none;">
              <a href="/FoundIT/pages/dashboard.html" class="nav-link">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                  <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
                Back to User Dashboard
              </a>
            </li>
          </ul>
        </nav>
      </aside>
      <!-- Main Content -->
      <main class="main-content">
        <header class="top-bar">
          <h1 class="page-title">Reports & Logs</h1>
          <div class="user-menu">
            <div class="user-profile">
              <img src="/FoundIT/assets/icons_svg/user.svg" alt="User Icon" class="user-avatar" style="width:40px;height:40px;border-radius:50%;object-fit:cover;" />
              <span class="user-name dashboard-user-name">Admin User</span>
              <small class="user-role-label" style="display:block; color:#888; font-size:0.85em; margin-top:2px;"></small>
            </div>
          </div>
        </header>
        <div class="dashboard-content">
          <section class="admin-stats-section">
            <div class="stat-card"><h3>Total Users</h3><p class="stat-number">0</p></div>
            <div class="stat-card"><h3>Total Items</h3><p class="stat-number">0</p></div>
            <div class="stat-card"><h3>Active Cases</h3><p class="stat-number">0</p></div>
            <div class="stat-card"><h3>Resolved Cases</h3><p class="stat-number">0</p></div>
          </section>
          <section class="admin-table-section">
            <div class="section-header">
              <h2>Recent Admin Actions</h2>
            </div>
            <div class="admin-table-wrapper">
              <table class="admin-table">
                <thead>
                  <tr>
                    <th>Report ID</th>
                    <th>User ID</th>
                    <th>Type</th>
                    <th>Subject</th>
                    <th>Description</th>
                    <th>Status</th>
                    <th>Created Date</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Archived User</td>
                    <td>Jane Doe</td>
                    <td>-</td>
                    <td>2024-06-01 10:00</td>
                    <td>Account archived by admin</td>
                    <td>Archived</td>
                    <td>2024-06-01 10:00</td>
                    <td>
                      <button class="action-button">View</button>
                      <button class="action-button">Edit</button>
                      <button class="action-button">Delete</button>
                    </td>
                  </tr>
                  <tr>
                    <td>Deleted Item</td>
                    <td>Admin</td>
                    <td>Black Wallet</td>
                    <td>2024-06-01 09:30</td>
                    <td>Item removed from system</td>
                    <td>Deleted</td>
                    <td>2024-06-01 09:30</td>
                    <td>
                      <button class="action-button">View</button>
                      <button class="action-button">Edit</button>
                      <button class="action-button">Delete</button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </section>
        </div>
      </main>
    </div>
    <footer style="background:#f7f8fa;border-top:1px solid #eee;padding:24px 0;text-align:center;color:#888;font-size:0.95rem;margin-top:auto;">
      &copy; <span id="footer-year"></span> Found IT. All rights reserved.
    </footer>
    <script>
      document.addEventListener('DOMContentLoaded', async function() {
        let role = null;
        let firstName = '';
        let lastName = '';
        try {
          const res = await fetch('/FoundIT/api/settings.php');
          const data = await res.json();
          if (data.success) {
            role = Number(data.profile.role);
            firstName = data.profile.first_name;
            lastName = data.profile.last_name;
          }
        } catch {}
        if (role === 2 || role === 3) {
          document.querySelectorAll('.admin-only').forEach(el => el.style.display = '');
        }
        // Set admin name and role in top bar
        document.querySelectorAll('.dashboard-user-name').forEach(el => {
          el.textContent = firstName + ' ' + lastName;
        });
        document.querySelectorAll('.user-role-label').forEach(el => {
          if (role === 3) el.textContent = 'ADMIN';
          else if (role === 2) el.textContent = 'STAFF';
          else el.textContent = '';
        });
      });
      document.getElementById('footer-year').textContent = new Date().getFullYear();

      function formatDate(dateStr) {
        if (!dateStr) return '-';
        const d = new Date(dateStr.replace(' ', 'T'));
        if (isNaN(d)) return dateStr;
        return d.toLocaleString(undefined, {
          year: 'numeric', month: 'short', day: '2-digit',
          hour: '2-digit', minute: '2-digit'
        });
      }
    </script>
  </body>
</html> 